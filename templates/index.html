<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            crossorigin="anonymous"></script>

    <title>CGV</title>
    <style>
        a {
            color: black;
            text-decoration-line: none;
        }

        a:visited {
            color: black;
        }

        a:hover {
            color: black;
        }

        a:active {
            color: black;
        }

        .menu {
            list-style-type: none;
            font-size: 45px;
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: center;
            margin: 25px auto;
        }

        .menu > li {
            width: 25%;
        }

        .menu > li:first-child {
            margin-left: 45px;
        }

        @media (max-width: 600px) {
            .menu {
                font-size: 35px;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                text-align: center;
            }

            .menu > li {
                width: 100%;
                margin: 10px 40px 10px 0px;
            }

            .menu > li:first-child {
                margin-left: 0px;
            }
        }

        .login {
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: center;
            text-align: center;
            margin-right: 45px;
        }

        @media (max-width: 600px) {
            .login {
                margin-top: 10px;
            }
        }

        .login > li {
            width: 130px;
        }

        .login > li > a > img {
            width: 50px;
        }

        .login > li > a > span {
            font-size: 25px;
            display: block;
        }

        hr {
            width: 97%;
            height: 2px;
            background-color: black;
            border: 0;
            margin-top: 30px;
        }

        .wrap {
            margin: auto;
        }




    </style>

    <script>
        //로딩이 완료되면 시작.
        $(document).ready(function () {
            listing();
        });

        function listing() {

            $.ajax({
                type: 'GET',
                url: '/movie',
                data: {},
                success: function (response) {
                    let rows = response['movies']

                    for (let i = 0; i < rows.length; i++) {
                        let image = rows[i]['image']
                        let title = rows[i]['title']
                        let rate = rows[i]['rate']
                        let rank = rows[i]['rank']

                        let temp_html = `<div class="col">
                                            <div class="card">
                                                <img src="${image}"
                                                     class="card-img-top" alt="...">
                                                <div class="card-body">
                                                    <h5 class="card-title">${title},${rank}</h5>
                                                    <p class="card-text">${rate}</p>
                                                </div>
                                            </div>
                                        </div>  `

                        $('#cards-box').append(temp_html)


                    }

                }
            })

            $.ajax({
                type: 'POST',
                url: '/movie',
                data: {},
                success: function (response) {


                }
            });


        }


    </script>


</head>


<body>

    <div>
    <ul class="menu">
        <li><a href="https://www.cgv.co.kr/"><img src="https://img.cgv.co.kr/R2014/images/common/logo/logoRed.png"
                                                  style="width: 140px"></a></li>
        <li><a href="" onclick="location.reload();">무비 차트</a></li>
        <li><a href="" onclick="location.href='/pre-movies'">상영예정작</a></li>
        <li><a href="">코멘트 남기기</a></li>
        <div class="login">
            <li><a href="#"><img src="https://img.cgv.co.kr/R2014/images/common/ico/loginPassword.png"><span>로그인</span></a>
            </li>
            <li><a href="#"><img src="https://img.cgv.co.kr/R2014/images/common/ico/loginJoin.png"><span>회원가입</span></a>
            </li>
        </div>
    </ul>
</div>
<hr/>
    <div class="wrap">
        <div id='cards-box' class="row row-cols-1 row-cols-md-5 g-4">

        </div>

</div>

</body>

</html>